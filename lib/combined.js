export function createClosure(repeaterPtr,callback,options){return function(){var continueRun;if(options.forgetTry)continueRun=callback(options);else try{continueRun=callback(options)}catch(e){console.log(options.name),console.error(e),continueRun=!1,options.continueRun&&(continueRun=!0)}continueRun?repeaterPtr.start():repeaterPtr.pause()}}export const DEFAULT_OPTIONS={forgetTry:!1,continueRun:!1};import{createClosure}from"./closure.js";import{DEFAULT_OPTIONS}from"./opts.js";export default class Repeater{constructor(callback,options){var tempOpts=options||{};this.options=Object.assign(DEFAULT_OPTIONS,tempOpts),this.callback=createClosure(this,callback,this.options),this.start()}start(){this.token=requestAnimationFrame(this.callback),this._isRunning=!0}pause(){cancelAnimationFrame(this.token),this._isRunning=!1}get isRunning(){return this._isRunning}}